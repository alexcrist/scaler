(this.webpackJsonpscaler=this.webpackJsonpscaler||[]).push([[0],{142:function(e,t,a){e.exports={chart:"Chart_chart__2ay2D"}},23:function(e,t,a){e.exports={container:"App_container__16xz_",inputs:"App_inputs__2pcYr",input:"App_input__cnruI",labels:"App_labels__sWrEY",play:"App_play__3MUmt"}},302:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(75),o=a.n(s),c=a(15),u=a(309),l=a(307),i=a(157),b=a(67),_=a(78),m=a(142),p=a.n(m),f=a(8),j=["#8338ec","#ff006e","#3a86ff","#fb5607","#ffbe0b"],h=function(e){var t=e.formulas,a=e.numNotes,n=e.noteRange,r=e.notes;(n-=1)<1&&(n=1);for(var s=100*a,o=(2*Math.PI-0)/s,c=[],m=0;m<s;m++)c.push(m*o);for(var h=t.map((function(e){try{return Object(_.a)(e,c)}catch(t){return null}})).filter((function(e){return null!==e})),d=[],O=0;O<s;O++){c[O];for(var v={name:O},x=0;x<h.length;x++){var E="f".concat(x),D=h[x][O];v[E]=D}d.push(v)}for(var g=[],N=0;N<a+1;N++)g.push(730*N/a);for(var A=[],C=0;C<n+1;C++)A.push(250*C/n);return Object(f.jsx)("div",{className:p.a.chart,children:Object(f.jsxs)(u.a,{width:730,height:250,data:d,children:[Object(f.jsx)(l.a,{stroke:"#ccc",strokeDasharray:"3 3",verticalPoints:g,horizontalPoints:A}),h.map((function(e,t){return Object(f.jsx)(i.a,{type:"monotone",dataKey:"f".concat(t),stroke:j[t%j.length]+"99",dot:!1,strokeWidth:3},t)})),Object(f.jsx)(b.a,{formatter:function(e,t,a){return r[Math.round(a.payload.name/100)]},labelFormatter:function(e){return Math.round(e/100)}})]})})},d=a(23),O=a.n(d),v=a(66),x=a.n(v),E=function(e){var t=e.enabledNotes,a=e.setEnabledNotes,n=e.periodDuration,r=e.isPlaying?{animationDuration:"".concat(n,"ms")}:{animation:"none"};return Object(f.jsxs)("div",{className:x.a.notes,children:[t.map((function(e,n){return Object(f.jsx)("div",{onClick:function(){return function(e){for(var n=[],r=0;r<t.length;r++){var s=t[r],o=r===e?!s:s;n.push(o)}a(n)}(n)},className:"".concat(x.a.note," ").concat(e?x.a.enabled:"")},n)})),Object(f.jsx)("div",{className:x.a.timeArm,style:r})]})},D=a(45),g=a.n(D),N=["C0","Db0","D0","Eb0","E0","F0","Gb0","G0","Ab0","A0","Bb0","B0","C1","Db1","D1","Eb1","E1","F1","Gb1","G1","Ab1","A1","Bb1","B1","C2","Db2","D2","Eb2","E2","F2","Gb2","G2","Ab2","A2","Bb2","B2","C3","Db3","D3","Eb3","E3","F3","Gb3","G3","Ab3","A3","Bb3","B3","C4","Db4","D4","Eb4","E4","F4","Gb4","G4","Ab4","A4","Bb4","B4","C5","Db5","D5","Eb5","E5","F5","Gb5","G5","Ab5","A5","Bb5","B5","C6","Db6","D6","Eb6","E6","F6","Gb6","G6","Ab6","A6","Bb6","B6","C7","Db7","D7","Eb7","E7","F7","Gb7","G7","Ab7","A7","Bb7","B7","C8","Db8","D8","Eb8","E8","F8","Gb8","G8","Ab8","A8","Bb8","B8"],A=[16.35,17.32,18.35,19.45,20.6,21.83,23.12,24.5,25.96,27.5,29.14,30.87,32.7,34.65,36.71,38.89,41.2,43.65,46.25,49,51.91,55,58.27,61.74,65.41,69.3,73.42,77.78,82.41,87.31,92.5,98,103.83,110,116.54,123.47,130.81,138.59,146.83,155.56,164.81,174.61,185,196,207.65,220,233.08,246.94,261.63,277.18,293.66,311.13,329.63,349.23,369.99,392,415.3,440,466.16,493.88,523.25,554.37,587.33,622.25,659.25,698.46,739.99,783.99,830.61,880,932.33,987.77,1046.5,1108.73,1174.66,1244.51,1318.51,1396.91,1479.98,1567.98,1661.22,1760,1864.66,1975.53,2093,2217.46,2349.32,2489.02,2637.02,2793.83,2959.96,3135.96,3322.44,3520,3729.31,3951.07,4186.01,4434.92,4698.63,4978.03,5274.04,5587.65,5919.91,6271.93,6644.88,7040,7458.62,7902.13];if(N.length!==A.length)throw Error("# notes !== # freqs");for(var C={},B=0;B<N.length;B++)C[N[B]]=A[B];for(var y,G=new(window.AudioContext||window.webkitAudioContext),w=function(e,t){t=t||85;var a=G.createGain();a.gain.setValueCurveAtTime(new Float32Array([0,.8,1,.3,0].map((function(e){return.05*e}))),G.currentTime,t/1e3),a.connect(G.destination);var n=G.createOscillator();n.connect(a),n.frequency.setValueAtTime(e,0),n.start(0),setTimeout((function(){return n.stop()}),t)},M=1,F=function(){clearInterval(y),M=0},P=a(18),k=[{name:"C major",pitches:["C","D","E","F","G","A","B"],notes:[]},{name:"D minor",pitches:["D","E","F","G","A","Bb","C"],notes:[]},{name:"D major",pitches:["D","E","Gb","G","A","B","Db"],notes:[]},{name:"E minor",pitches:["E","Gb","G","A","B","C","D"],notes:[]},{name:"E major",pitches:["E","Gb","G","A","B","C","D"],notes:[]}],I=0,T=k;I<T.length;I++){var R,S=T[I],W=Object(P.a)(N);try{for(W.s();!(R=W.n()).done;){var K=R.value,L=K.substring(0,K.length-1);S.pitches.includes(L)&&S.notes.push(K)}}catch(z){W.e(z)}finally{W.f()}}for(var U=[],q=0;q<16;q++)U.push(!0);var V=function(){var e=Object(n.useState)("y = sin(x) + cos(4*x)"),t=Object(c.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(U),o=Object(c.a)(s,2),u=o[0],l=o[1],i=Object(n.useState)(!1),b=Object(c.a)(i,2),m=b[0],p=b[1],j=Object(n.useState)(3e3),d=Object(c.a)(j,2),v=d[0],x=d[1],D=Object(n.useState)(k[0]),N=Object(c.a)(D,2),A=N[0],B=N[1],G=Object(n.useState)(k[0].notes[21]),P=Object(c.a)(G,2),I=P[0],T=P[1],R=Object(n.useState)(14),S=Object(c.a)(R,2),W=S[0],K=S[1],L=Object(n.useState)(85),q=Object(c.a)(L,2),V=q[0],z=q[1],H=Object(n.useRef)(u),J=Object(n.useRef)(V);Object(n.useEffect)((function(){H.current=u}),[u]),Object(n.useEffect)((function(){J.current=V}),[V]);var Y=function(e,t,a,n,r){r-=1;for(var s,o=e.notes.indexOf(n),c=[],u=0;u<t;u++)c.push(u/t*2*Math.PI);try{s=Object(_.a)(a,c)}catch(b){return[]}var l=g.a.min(s),i=g.a.max(s);return s.map((function(e){return Math.round((e-l)/(i-l||1)*r)})).map((function(t){return e.notes[t+o]}))}(A,u.length,a,I,W);return Object(f.jsxs)("div",{className:O.a.container,children:[Object(f.jsxs)("div",{className:O.a.labels,children:[Object(f.jsx)("label",{children:"Formula"}),Object(f.jsx)("label",{children:"Period (ms)"}),Object(f.jsx)("label",{children:"Beats"})]}),Object(f.jsxs)("div",{className:O.a.inputs,children:[Object(f.jsx)("input",{className:O.a.input,value:a,onChange:function(e){p(!1),F(),r(e.target.value)}}),Object(f.jsx)("input",{className:O.a.input,value:v,onChange:function(e){p(!1),F(),x(Number(e.target.value))},type:"number"}),Object(f.jsx)("input",{className:O.a.input,value:u.length,onChange:function(e){if(p(!1),F(),!isNaN(Number(e.target.value))){for(var t=[],a=0;a<Number(e.target.value);a++)t.push(!0);l(t)}},type:"number"})]}),Object(f.jsxs)("div",{className:O.a.labels,children:[Object(f.jsx)("label",{children:"Scale"}),Object(f.jsx)("label",{children:"Low note"}),Object(f.jsx)("label",{children:"Note range"}),Object(f.jsx)("label",{children:"Note duration (ms)"})]}),Object(f.jsxs)("div",{className:O.a.inputs,children:[Object(f.jsx)("select",{className:O.a.input,onChange:function(e){p(!1),F();var t=k[e.target.value];B(t),T(t.pitches[0]+"3")},children:k.map((function(e,t){return Object(f.jsx)("option",{value:t,children:e.name},t)}))}),Object(f.jsx)("select",{className:O.a.input,value:I,onChange:function(e){p(!1),F(),T(e.target.value)},children:A.notes.map((function(e,t){return Object(f.jsx)("option",{value:e,children:e},t)}))}),Object(f.jsx)("input",{className:O.a.input,value:W,onChange:function(e){p(!1),F(),isNaN(Number(e.target.value))||K(Number(e.target.value))},type:"number"}),Object(f.jsx)("input",{className:O.a.input,value:V,onChange:function(e){isNaN(Number(e.target.value))||z(Number(e.target.value))},type:"number"})]}),Object(f.jsx)(h,{formulas:[a],numNotes:u.length,noteRange:W,notes:Y}),Object(f.jsx)(E,{enabledNotes:u,setEnabledNotes:l,isPlaying:m,periodDuration:v}),Object(f.jsx)("button",{className:O.a.play,onClick:function(){m?(p(!1),F()):(p(!0),function(e,t,a,n){var r=t.current.length,s=e.map((function(e){return C[e]})),o=s[0];t.current[0]&&w(o,n.current),M=1,y=setInterval((function(){var e=s[M];t.current[M]&&w(e,n.current),M=(M+1)%r}),a/r)}(Y,H,v,J))},children:m?"stop":"start"})]})};o.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(V,{})}),document.getElementById("root"))},66:function(e,t,a){e.exports={notes:"Notes_notes__2CEZy",note:"Notes_note__32ig5",enabled:"Notes_enabled__34Zsz",timeArm:"Notes_timeArm__3vyiP",slide:"Notes_slide__18buH"}},78:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_alexcrist_workspace_scaler_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(18),lodash__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(45),lodash__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__),formulaToData=function formulaToData(formula,xValues){if(formula=formula.replace(/\s+/g,""),formula=formula.replace(/sin/g,"Math.sin"),formula=formula.replace(/cos/g,"Math.cos"),"y="!==formula.substring(0,2))throw Error("Invalid formula: "+formula);formula=formula.substring(2);var data=[],_iterator=Object(_home_alexcrist_workspace_scaler_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__.a)(xValues),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var x=_step.value,evalFormula=lodash__WEBPACK_IMPORTED_MODULE_1___default.a.replace(formula,"x",x);try{data.push(eval(evalFormula))}catch(e){throw Error("Formula evaluation error: "+evalFormula)}}}catch(err){_iterator.e(err)}finally{_iterator.f()}return data};__webpack_exports__.a=formulaToData}},[[302,1,2]]]);
//# sourceMappingURL=main.238d59c3.chunk.js.map