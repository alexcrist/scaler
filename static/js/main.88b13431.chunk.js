(this.webpackJsonpscaler=this.webpackJsonpscaler||[]).push([[0],{142:function(e,t,a){e.exports={chart:"Chart_chart__2ay2D"}},23:function(e,t,a){e.exports={container:"App_container__16xz_",inputs:"App_inputs__2pcYr",input:"App_input__cnruI",labels:"App_labels__sWrEY",play:"App_play__3MUmt"}},302:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(75),o=a.n(s),c=a(17),l=a(309),u=a(307),i=a(157),_=a(67),b=a(78),p=a(142),m=a.n(p),f=a(9),d=730,j=250,h=["#8338ec","#ff006e","#3a86ff","#fb5607","#ffbe0b"],O=function(e){var t=e.formulas;console.log(t);for(var a=(2*Math.PI-0)/100,r=[],n=0;n<100;n++)r.push(n*a);for(var s=t.map((function(e){try{return Object(b.a)(e,r)}catch(t){return null}})).filter((function(e){return null!==e})),o=[],c=0;c<100;c++){for(var p={name:r[c]},O=0;O<s.length;O++){var v="f".concat(O),x=s[O][c];p[v]=x}o.push(p)}return Object(f.jsx)("div",{className:m.a.chart,children:Object(f.jsxs)(l.a,{width:d,height:j,data:o,children:[Object(f.jsx)(u.a,{stroke:"#ccc",strokeDasharray:"3 3",verticalPoints:[0,d/4,365,547.5,d],horizontalPoints:[0,j/4,125,187.5,j]}),s.map((function(e,t){return Object(f.jsx)(i.a,{type:"monotone",dataKey:"f".concat(t),stroke:h[t%h.length]+"99",dot:!1,strokeWidth:3},t)})),Object(f.jsx)(_.a,{})]})})},v=a(23),x=a.n(v),E=a(66),D=a.n(E),A=function(e){var t=e.enabledNotes,a=e.setEnabledNotes,r=e.periodDuration,n=e.isPlaying?{animationDuration:"".concat(r,"ms")}:{animation:"none"};return Object(f.jsxs)("div",{className:D.a.notes,children:[t.map((function(e,r){return Object(f.jsx)("div",{onClick:function(){return function(e){for(var r=[],n=0;n<t.length;n++){var s=t[n],o=n===e?!s:s;r.push(o)}a(r)}(r)},className:"".concat(D.a.note," ").concat(e?D.a.enabled:"")})})),Object(f.jsx)("div",{className:D.a.timeArm,style:n})]})},g=a(57),N=a.n(g),B=["C0","Db0","D0","Eb0","E0","F0","Gb0","G0","Ab0","A0","Bb0","B0","C1","Db1","D1","Eb1","E1","F1","Gb1","G1","Ab1","A1","Bb1","B1","C2","Db2","D2","Eb2","E2","F2","Gb2","G2","Ab2","A2","Bb2","B2","C3","Db3","D3","Eb3","E3","F3","Gb3","G3","Ab3","A3","Bb3","B3","C4","Db4","D4","Eb4","E4","F4","Gb4","G4","Ab4","A4","Bb4","B4","C5","Db5","D5","Eb5","E5","F5","Gb5","G5","Ab5","A5","Bb5","B5","C6","Db6","D6","Eb6","E6","F6","Gb6","G6","Ab6","A6","Bb6","B6","C7","Db7","D7","Eb7","E7","F7","Gb7","G7","Ab7","A7","Bb7","B7","C8","Db8","D8","Eb8","E8","F8","Gb8","G8","Ab8","A8","Bb8","B8"],C=[16.35,17.32,18.35,19.45,20.6,21.83,23.12,24.5,25.96,27.5,29.14,30.87,32.7,34.65,36.71,38.89,41.2,43.65,46.25,49,51.91,55,58.27,61.74,65.41,69.3,73.42,77.78,82.41,87.31,92.5,98,103.83,110,116.54,123.47,130.81,138.59,146.83,155.56,164.81,174.61,185,196,207.65,220,233.08,246.94,261.63,277.18,293.66,311.13,329.63,349.23,369.99,392,415.3,440,466.16,493.88,523.25,554.37,587.33,622.25,659.25,698.46,739.99,783.99,830.61,880,932.33,987.77,1046.5,1108.73,1174.66,1244.51,1318.51,1396.91,1479.98,1567.98,1661.22,1760,1864.66,1975.53,2093,2217.46,2349.32,2489.02,2637.02,2793.83,2959.96,3135.96,3322.44,3520,3729.31,3951.07,4186.01,4434.92,4698.63,4978.03,5274.04,5587.65,5919.91,6271.93,6644.88,7040,7458.62,7902.13];if(B.length!==C.length)throw Error("# notes !== # freqs");for(var y={},G=0;G<B.length;G++)y[B[G]]=C[G];for(var w=a(18),M=[{name:"C major",pitches:["C","D","E","F","G","A","B"],notes:[]},{name:"D major",pitches:["D","E","Gb","G","A","B","Db"],notes:[]}],P=0,k=M;P<k.length;P++){var F,I=k[P],T=Object(w.a)(B);try{for(T.s();!(F=T.n()).done;){var W=F.value,K=W.substring(0,W.length-1);I.pitches.includes(K)&&I.notes.push(W)}}catch(Q){T.e(Q)}finally{T.f()}}var L=new(window.AudioContext||window.webkitAudioContext),R=L.createGain();R.gain.value=.05,R.connect(L.destination);var S,U=function(e){var t=L.createOscillator();t.connect(R),t.frequency.setValueAtTime(e,0),t.start(0),setTimeout((function(){return t.stop()}),100)},q=M[1],z=Math.floor(.42*q.notes.length);console.log(B[z]);for(var H=1,V=function(){clearInterval(S),H=0},J=[],Y=0;Y<16;Y++)J.push(!0);var Z=function(){var e=Object(r.useState)("y = sin(x) + cos(4*x)"),t=Object(c.a)(e,2),a=t[0],n=t[1],s=Object(r.useState)(16),o=Object(c.a)(s,2),l=o[0],u=o[1],i=Object(r.useState)(J),_=Object(c.a)(i,2),p=_[0],m=_[1],d=Object(r.useState)(!1),j=Object(c.a)(d,2),h=j[0],v=j[1],E=Object(r.useState)(3e3),D=Object(c.a)(E,2),g=D[0],B=D[1],C=Object(r.useRef)(p);Object(r.useEffect)((function(){C.current=p}),[p]);return Object(f.jsxs)("div",{className:x.a.container,children:[Object(f.jsxs)("div",{className:x.a.labels,children:[Object(f.jsx)("label",{children:"Formula"}),Object(f.jsx)("label",{children:"Period (ms)"}),Object(f.jsx)("label",{children:"Beats"})]}),Object(f.jsxs)("div",{className:x.a.inputs,children:[Object(f.jsx)("input",{className:x.a.input,value:a,onChange:function(e){v(!1),V(),n(e.target.value)}}),Object(f.jsx)("input",{className:x.a.input,value:g,onChange:function(e){v(!1),V(),B(Number(e.target.value))},type:"number"}),Object(f.jsx)("input",{className:x.a.input,value:l,onChange:function(e){if(v(!1),V(),u(Number(e.target.value)),!isNaN(Number(e.target.value))){for(var t=[],a=0;a<Number(e.target.value);a++)t.push(!0);m(t)}},type:"number"})]}),Object(f.jsxs)("div",{className:x.a.labels,children:[Object(f.jsx)("label",{children:"Scale"}),Object(f.jsx)("label",{children:"Low note"}),Object(f.jsx)("label",{children:"Note range"})]}),Object(f.jsxs)("div",{className:x.a.inputs,children:[Object(f.jsx)("input",{className:x.a.input,value:"D Major",disabled:!0}),Object(f.jsx)("input",{className:x.a.input,value:"D2",disabled:!0}),Object(f.jsx)("input",{className:x.a.input,value:"12",disabled:!0})]}),Object(f.jsx)(O,{formulas:[a]}),Object(f.jsx)(A,{enabledNotes:p,setEnabledNotes:m,isPlaying:h,periodDuration:g}),Object(f.jsx)("button",{className:x.a.play,onClick:function(){h?(v(!1),V()):(v(!0),function(e,t,a){for(var r=t.current.length,n=[],s=0;s<r;s++)n.push(s/r*2*Math.PI);var o=Object(b.a)(e,n),c=N.a.min(o),l=N.a.max(o),u=o.map((function(e){return Math.round((e-c)/(l-c)*12)})).map((function(e){return q.notes[e+z]})).map((function(e){return y[e]})),i=u[0];t.current[0]&&U(i),H=1,S=setInterval((function(){var e=u[H];t.current[H]&&U(e),H=(H+1)%r}),a/r)}(a,C,g))},children:h?"stop":"start"})]})};o.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(Z,{})}),document.getElementById("root"))},66:function(e,t,a){e.exports={notes:"Notes_notes__2CEZy",note:"Notes_note__32ig5",enabled:"Notes_enabled__34Zsz",timeArm:"Notes_timeArm__3vyiP",slide:"Notes_slide__18buH"}},78:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_alexcrist_workspace_scaler_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(18),lodash__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(57),lodash__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_1__),formulaToData=function formulaToData(formula,xValues){if(formula=formula.replace(/\s+/g,""),formula=formula.replace(/sin/g,"Math.sin"),formula=formula.replace(/cos/g,"Math.cos"),"y="!==formula.substring(0,2))throw Error("Invalid formula: "+formula);formula=formula.substring(2);var data=[],_iterator=Object(_home_alexcrist_workspace_scaler_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_0__.a)(xValues),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var x=_step.value,evalFormula=lodash__WEBPACK_IMPORTED_MODULE_1___default.a.replace(formula,"x",x);try{data.push(eval(evalFormula))}catch(e){throw Error("Formula evaluation error: "+evalFormula)}}}catch(err){_iterator.e(err)}finally{_iterator.f()}return data};__webpack_exports__.a=formulaToData}},[[302,1,2]]]);
//# sourceMappingURL=main.88b13431.chunk.js.map